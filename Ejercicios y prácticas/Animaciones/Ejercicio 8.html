<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        var timers = [];

        function inicio() {
            crear();
        }

        function crear() {
            var cajas = [];
            var count = 1000;
            var cajaPrimera = crearCaja("yellow", "Primero");
            var cajaSegunda = crearCaja("Purple", "Segundo");
            var cajaTercera = crearCaja("Orange", "Tercero");
            var cajaCuarta = crearCaja("Green", "Cuarto");

            cajas.push(cajaPrimera, cajaSegunda, cajaTercera, cajaCuarta);

            for (let caja of cajas) {
                var time = setTimeout(() => caja.style.display = "block", count);
                timers.push(time);
                count += 1000;

            }
            var repetir = setTimeout(() => {
                reiniciar();
            }, count);
            timers.push(repetir);

        }

        function crearCaja(color, texto) {
            var ele = document.createElement("div");
            document.body.appendChild(ele);
            ele.style.backgroundColor = color;
            ele.innerHTML = texto;
            ele.style.marginBottom = "10px";
            ele.style.display = "none";
            ele.addEventListener("click", reiniciar);
            return ele;

        }


        function reiniciar() {
            for (let time of timers) {
                clearTimeout(time);
            }
            ocultar();
            crear();
        }

        function ocultar() {

            while (document.body.hasChildNodes()) {
                document.body.removeChild(document.body.lastChild);
            }
        }


        window.onload = inicio;
    </script>
</head>

<body>

</body>

</html>